<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حجز موعد | حلاق الشكر</title>
    <link rel="stylesheet" href="booking-style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>

<body>
    <div class="booking-container">
        <header>
            <img src="https://l.top4top.io/p_3696h0fkb1.jpg" alt="Logo" class="logo-img-main">
            <h1>حلاق الشكر</h1>
            <p>احجز موعدك الآن بكل سهولة</p>
        </header>

        <nav class="booking-tabs">
            <button class="tab-btn active" onclick="switchMainTab('book')">حجز جديد</button>
            <button class="tab-btn" onclick="switchMainTab('my-apps')">مواعيدي</button>
        </nav>

        <main class="booking-card">
            <div id="main-tab-book">
                <div id="step-1" class="step active">
                    <h3>1. اختر الخدمة</h3>
                    <div id="services-list" class="grid-options">
                        <!-- JS Content -->
                    </div>
                </div>

                <div id="step-2" class="step">
                    <h3>2. اختر التاريخ والوقت</h3>
                    <div style="margin-bottom: 20px;">
                        <input type="date" id="booking-date" class="input-field">
                        <div id="day-name-label" style="color: var(--primary); font-weight: 700; margin-top: 5px;">
                        </div>
                    </div>
                    <div id="time-slots" class="grid-options">
                        <!-- JS Content -->
                    </div>
                    <button class="btn-back" onclick="goToStep(1)">رجوع</button>
                </div>

                <div id="step-3" class="step">
                    <h3>3. بيانات التواصل</h3>
                    <input type="text" id="cust-name" placeholder="الاسم الكامل" class="input-field">
                    <input type="tel" id="cust-phone" placeholder="رقم الهاتف" class="input-field">
                    <div class="summary-box">
                        <p>الخدمة: <span id="summary-service"></span></p>
                        <p>الموعد: <span id="summary-time"></span></p>
                    </div>
                    <button class="btn-confirm" onclick="confirmBooking()">تأكيد الحجز</button>
                    <button class="btn-back" onclick="goToStep(2)">رجوع</button>
                </div>

                <div id="step-success" class="step">
                    <div class="success-icon" style="color: var(--primary);">⏳</div>
                    <h2 id="success-title">طلبك قيد المراجعة</h2>
                    <p>للتأكيد، يرجى دفع (1.000 دينار) كعربون عبر:</p>
                    <div
                        style="background: var(--bg-input); padding: 15px; border-radius: 12px; margin: 10px 0; text-align: right; border: 1px solid var(--border);">
                        <p style="color: var(--primary); font-weight: 700; margin-bottom: 5px;">Benefit Pay: 37055332
                        </p>
                        <p style="font-size: 0.8rem; color: var(--text-muted);">IBAN: BH000000000000000000</p>
                    </div>

                    <p style="font-size: 0.8rem; margin-top: 15px;">يرجى كتابة النص التالي في وصف المعاملة:</p>
                    <div style="display: flex; gap: 5px; margin-bottom: 15px;">
                        <input type="text" id="copy-desc" readonly class="input-field"
                            style="margin-bottom:0; font-size:0.8rem; padding:8px;">
                        <button onclick="copyDesc()"
                            style="background: var(--primary); color: white; border: none; border-radius: 8px; padding: 0 15px; cursor: pointer; font-size: 0.8rem;">نسخ</button>
                    </div>

                    <p style="font-size: 0.85rem;">بعد الدفع، أرسل صورة الحوالة لتأكيد موعدك:</p>
                    <button class="btn-confirm" id="btn-whatsapp-confirm"
                        style="background: #25d366; color: white; margin-top: 10px;">إرسال المعاملة على
                        الواتساب</button>
                    <button class="btn-back" onclick="location.reload()" style="margin-top: 10px;">رجوع للحجز</button>
                </div>
            </div>

            <div id="main-tab-my-apps" style="display: none;">
                <h3>البحث عن مواعيدي</h3>
                <p style="margin-bottom: 20px; font-size: 0.9rem; color: var(--text-muted);">أدخل رقم هاتفك لعرض حجوزاتك
                    القادمة</p>
                <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                    <input type="tel" id="search-phone" placeholder="رقم الهاتف" class="input-field"
                        style="margin-bottom:0;">
                    <button class="btn-confirm" style="width: 80px; margin-top:0;" onclick="fetchMyApps()">بحث</button>
                </div>
                <div id="my-apps-list" class="my-apps-container">
                    <!-- سيتم عرض الحجوزات هنا -->
                    <p style="color: var(--text-muted);">لم يتم البحث بعد</p>
                </div>
            </div>
        </main>

        <footer>
            <p>© 2026 حلاق الشكر | جميع الحقوق محفوظة</p>
        </footer>
    </div>

    <script src="booking-app.js"></script>
</body>

</html>